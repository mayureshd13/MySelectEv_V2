<!DOCTYPE html>
<html>

<head>
  <title>SelectEV - Your Smart EV Selection Assistant</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <style>
    /* Your existing animations and styles */
    @keyframes fadeIn {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    @keyframes slideIn {
      0% {
        transform: translateY(-50px);
        opacity: 0;
      }

      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes float {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-15px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 hsla(173, 100%, 44%, 0.7);
      }

      70% {
        transform: scale(1.02);
        box-shadow: 0 0 0 15px rgba(0, 223, 196, 0);
      }

      100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(0, 223, 196, 0);
      }
    }

    .animate-float {
      animation: float 4s ease-in-out infinite;
    }

    .animate-pulse-slow {
      animation: pulse 3s ease-in-out infinite;
    }

    .animate-wave {
      animation: wave 2s ease infinite;
      transform-origin: 70% 70%;
      display: inline-block;
    }

    .animate-delay-100 {
      animation-delay: 100ms;
    }

    .animate-delay-200 {
      animation-delay: 200ms;
    }

    .animate-delay-300 {
      animation-delay: 300ms;
    }

    .gradient-text {
      background: linear-gradient(45deg, #00dfc4, #00663d);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .product-card:hover .product-img {
      transform: scale(1.1) rotate(2deg);
    }

    .product-img {
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .scroll-indicator {
      animation: bounce 2s infinite;
    }

    @keyframes bounce {

      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0);
      }

      40% {
        transform: translateY(-20px);
      }

      60% {
        transform: translateY(-10px);
      }
    }

    /* Prevent scrolling when menu is open */
    body.no-scroll {
      overflow: hidden;
    }

    /* New platform intro section */
    .platform-card {
      transition: all 0.3s ease;
    }

    .platform-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    /* Dark Mode Base Styles */
    .dark-mode {
      --primary: #00dfc4;
      --primary-hover: #00b39b;
      --secondary: #1a2433;
      --accent: #ff8c42;
      --light: #1e1e1e;
      --dark: #0a0a0a;
      --text-light: #f0f0f0;
      --text-dark: #e0e0e0;
      --card-bg: #223243;
      --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      --border-dark: rgba(255, 255, 255, 0.1);
    }

    .dark-mode body {
      background-color: var(--light);
      color: var(--text-dark);
    }

    /* Hero Section */
    .dark-mode .hero {
      background: linear-gradient(to bottom right, var(--secondary), #003d2a);
    }

    .dark-mode .hero h2,
    .dark-mode .hero p {
      color: var(--text-light);
    }

    /* Platform Intro Section */
    .dark-mode .platform-intro {
      background-color: var(--card-bg);
    }

    .dark-mode .platform-card {
      background-color: var(--secondary);
      border: 1px solid var(--border-dark);
    }

    .dark-mode .platform-card h3 {
      color: var(--text-light);
    }

    .dark-mode .platform-card p {
      color: var(--text-dark);
    }

    /* News Preview Section */
    .dark-mode .news-preview {
      background-color: var(--secondary);
    }

    .dark-mode .news-preview h2 {
      color: var(--text-light);
    }

    .dark-mode .news-preview .group {
      background-color: var(--card-bg);
      border: 1px solid var(--border-dark);
    }

    .dark-mode .news-preview h3 {
      color: var(--text-light);
    }

    .dark-mode .news-preview p {
      color: var(--text-dark);
    }

    .dark-mode .news-preview .text-gray-500 {
      color: var(--text-dark);
    }

    .dark-mode .news-preview .bg-gray-100 {
      background-color: var(--secondary);
      color: var(--text-dark);
    }

    /* Featured Section */
    .dark-mode .featured {
      background-color: var(--card-bg);
    }

    .dark-mode .category-card {
      background-color: var(--secondary);
      border-color: var(--border-dark);
    }

    .dark-mode .category-card h3 {
      color: var(--text-light);
    }

    .dark-mode .category-card p {
      color: var(--text-dark);
    }

    /* Testimonials Section */
    .dark-mode .testimonials {
      background: linear-gradient(to bottom, var(--secondary), #121f2b);
    }

    .dark-mode .testimonials .testimonial-card {
      background-color: #1a2a3a;
    }

    .dark-mode .testimonials .testimonial-text {
      color: var(--text-dark);
    }

    /* Text Colors */
    .dark-mode .text-dark-primary {
      color: var(--text-light);
    }

    .dark-mode .text-dark-secondary {
      color: var(--text-dark);
    }

    /* Background Colors */
    .dark-mode .bg-dark-primary {
      background-color: var(--card-bg);
    }

    .dark-mode .bg-dark-secondary {
      background-color: var(--secondary);
    }

    /* Buttons */
    .dark-mode .btn-primary {
      background-color: var(--primary);
    }

    .dark-mode .btn-primary:hover {
      background-color: var(--primary-hover);
    }

    /* Utility Classes */
    .dark-mode .border-dark {
      border-color: var(--border-dark);
    }

    /* Calculator Styles */
    .calculator-container {
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .dark-mode .calculator-section {
      background-color: #121f2b;
      color: white;
    }

    .calculator-header {
      background: linear-gradient(to right, #00dfc4, #00663d);
      color: white;
      padding: 1.5rem;
    }

    .calculator-form {
      padding: 2rem;
    }

    .dark-mode .calculator-form {
      background-color: #465468;
    }

    .input-group {
      margin-bottom: 1.5rem;
    }

    .dark-mode .input-group label {
      color: white;
    }

    .input-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: #223243;
    }

    .input-group input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.3s;
    }

    .input-group input:focus {
      border-color: #00dfc4;
      box-shadow: 0 0 0 3px rgba(0, 223, 196, 0.2);
      outline: none;
    }

    .calculate-btn {
      background: linear-gradient(to right, #00dfc4, #00663d);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      width: 100%;
    }

    .calculate-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 223, 196, 0.3);
    }

    .results-container {
      padding: 1.5rem;
      background-color: white;
      border-radius: 0 0 16px 16px;
      display: none;
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      padding: 0.75rem 0;
      border-bottom: 1px solid #eee;
    }

    .result-item:last-child {
      border-bottom: none;
    }

    .result-label {
      font-weight: 500;
      color: #223243;
    }

    .result-value {
      font-weight: 600;
      color: #00663d;
    }

    .savings-highlight {
      background-color: rgba(0, 223, 196, 0.1);
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      text-align: center;
      font-weight: 600;
      color: #00663d;
    }

    /* Testimonial Card Updates */
    .testimonial-card {
      background: #223243;
      padding: 1.5rem;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .testimonial-card:hover {
      border-color: rgba(0, 223, 196, 0.5);
      box-shadow: 0 10px 20px rgba(0, 223, 196, 0.1);
      transform: translateY(-5px);
    }

    .testimonial-header {
      display: flex;
      align-items: flex-start;
      margin-bottom: 1rem;
    }

    .testimonial-avatar {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #00dfc4;
      margin-right: 1rem;
      flex-shrink: 0;
    }

    .testimonial-rating {
      color: #ffc107;
      font-size: 1rem;
      margin-right: 0.5rem;
    }

    .testimonial-rating-value {
      color: #adb5bd;
      font-size: 0.875rem;
    }

    .testimonial-name {
      font-weight: 600;
      color: white;
      margin-bottom: 0.25rem;
    }

    .testimonial-location {
      display: flex;
      align-items: center;
      color: #00dfc4;
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
    }


    .testimonial-text {
      color: #e9ecef;
      font-style: italic;
      padding-left: 0.5rem;
      border-left: 2px solid #00dfc4;
      margin-top: auto;
      flex-grow: 1;
    }

    .testimonial-highlight {
      color: #00dfc4;
      font-weight: 500;
    }

    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(74, 113, 101, 0.5);
      /* Match your theme */
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .preloader-content {
      text-align: center;
    }

    .preloader-logo {
      width: 150px;
      /* Adjust as needed */
      height: auto;
      margin-bottom: 20px;
      animation: pulse 1.5s infinite ease-in-out;
    }

    .preloader-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: rgba(6, 249, 193, 0.5);
      margin: 0 auto;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.1);
      }

      100% {
        transform: scale(1);
      }
    }

    .preloader-hidden {
      opacity: 0;
      pointer-events: none;
    }
  </style>
</head>

<body class="font-['Poppins'] bg-gray-100">
  <!-- Preloader Container -->
  <div id="preloader" class="preloader">
    <div class="preloader-content">
      <!-- Logo -->
      <img src="logosev.png" alt="Logo" class="preloader-logo">

      <!-- Optional Loading Animation -->
      <div class="preloader-spinner"></div>
    </div>
  </div>
  <%-include("../partials/header.ejs") %>
    <main class="pt-16 pb-8 px-4 md:px-8 max-w-6xl mx-auto">
      <!-- Hero Section with Updated Messaging -->
      <section
        class="hero text-center py-12 md:py-24 bg-gradient-to-br from-[#223243] to-[#00663d] rounded-xl shadow-2xl mb-12 mt-12 overflow-hidden relative">
        <div
          class="absolute inset-0 opacity-10 bg-[url('https://www.transparentpng.com/thumb/car-pattern/car-pattern-png-5.png')] bg-repeat">
        </div>
        <div class="relative z-10">
          <h2
            class="text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 animate-fadeIn text-shadow-lg gradient-text">
            Find Your Perfect <span class="inline-block animate-wave origin-[70%_70%] text-white">EV</span>
          </h2>
          <p class="text-xl text-gray-200 mb-8 max-w-2xl mx-auto animate-fadeIn animate-delay-100">
            Let our smart platform recommend the best electric vehicles for your needs and budget
          </p>
          <div class="flex flex-col sm:flex-row justify-center gap-4 animate-fadeIn animate-delay-200 p-5">
            <a href="/ev-finder"
              class="bg-[#00dfc4] hover:bg-[#00c4aa] text-[#223243] font-bold py-3 px-8 rounded-lg shadow-xl hover:scale-105 transition-all duration-300 text-lg p-5">
              Start EV Finder
            </a>
            <a href="/find-stations"
            class="bg-white hover:bg-gray-100 text-[#223243] font-bold py-3 px-8 rounded-lg shadow-xl hover:scale-105 transition-all duration-300 text-lg">
             Find Ev Station
          </a>
          </div>
          <div class="mt-12 animate-bounce scroll-indicator">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-white animate-float" fill="none"
              viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
            </svg>
          </div>
        </div>
      </section>

      <!-- Platform Introduction Section -->
      <section class="platform-intro py-12 md:py-16 text-center bg-white rounded-xl shadow-lg mb-12 p-5">
        <h2 class="text-3xl md:text-4xl font-bold mb-12 animate-fadeIn gradient-text">How SelectEV Helps You Choose</h2>
        <div class="grid md:grid-cols-3 gap-8">
          <div class="platform-card bg-gray-50 p-6 rounded-lg hover:shadow-md transition-all">
            <div class="text-[#00dfc4] text-4xl mb-4">1</div>
            <h3 class="text-xl font-semibold mb-3">Smart Matching</h3>
            <p class="text-gray-600">Our algorithm analyzes your needs to recommend the perfect EVs from hundreds of
              options</p>
          </div>
          <div class="platform-card bg-gray-50 p-6 rounded-lg hover:shadow-md transition-all">
            <div class="text-[#00dfc4] text-4xl mb-4">2</div>
            <h3 class="text-xl font-semibold mb-3">Unbiased Advice</h3>
            <p class="text-gray-600">We're not sellers - our recommendations are based purely on what's best for you</p>
          </div>
          <div class="platform-card bg-gray-50 p-6 rounded-lg hover:shadow-md transition-all">
            <div class="text-[#00dfc4] text-4xl mb-4">3</div>
            <h3 class="text-xl font-semibold mb-3">Always Updated</h3>
            <p class="text-gray-600">We constantly update our database with new models, prices, and specifications</p>
          </div>
        </div>
      </section>

      <!-- EV Cost & Savings Calculator Section -->
      <section class="calculator-section py-16 md:py-20 bg-white rounded-2xl shadow-xl mb-16">
        <div class="container mx-auto px-6">
          <div class="text-center mb-12">
            <span
              class="inline-block bg-[#00dfc4] bg-opacity-20 text-[#00663d] text-sm font-semibold px-4 py-1 rounded-full mb-3">
              Smart Tool
            </span>
            <h2 class="text-4xl md:text-5xl font-bold animate-fadeIn">
              EV <span class="gradient-text">Cost & Savings Calculator</span>
            </h2>
            <p class="text-lg text-gray-600 mt-4 max-w-2xl mx-auto">
              See how much you can save by switching to an electric vehicle
            </p>
          </div>

          <div class="calculator-container max-w-2xl mx-auto">
            <div class="calculator-header">
              <h3 class="text-xl font-bold">Calculate Your Potential Savings</h3>
            </div>

            <form id="evCalculatorForm" class="calculator-form">
              <div class="input-group">
                <label for="dailyKm">Average Kilometers Driven Per Day</label>
                <input type="number" id="dailyKm" placeholder="e.g. 50" min="1" required>
              </div>

              <div class="input-group">
                <label for="petrolMileage">Petrol Vehicle Mileage (km/liter)</label>
                <input type="number" id="petrolMileage" placeholder="e.g. 15" min="1" step="0.1" required>
              </div>

              <div class="input-group">
                <label for="fuelCost">Current Fuel Cost (₹/liter)</label>
                <input type="number" id="fuelCost" placeholder="e.g. 100" min="1" step="0.1" required>
              </div>

              <div class="input-group">
                <label for="electricityCost">Electricity Cost (₹/kWh)</label>
                <input type="number" id="electricityCost" placeholder="e.g. 8" min="1" step="0.1" required>
              </div>

              <div class="input-group">
                <label for="evRange">EV Range (km per full charge)</label>
                <input type="number" id="evRange" placeholder="e.g. 300" min="50" required>
              </div>

              <div class="input-group">
                <label for="evBattery">EV Battery Capacity (kWh) <small class="text-gray-500">(Optional)</small></label>
                <input type="number" id="evBattery" placeholder="e.g. 30" min="1" step="0.1">
                <p class="text-xs text-gray-500 mt-1">Don't know? We'll use typical efficiency for your range</p>
              </div>

              <button type="submit" class="calculate-btn">Calculate Savings</button>
            </form>

            <div id="resultsContainer" class="results-container">
              <div id="calculatedEfficiency" class="text-sm text-gray-600 mt-2 mb-4"></div>
              <h4 class="text-lg font-bold mb-4 text-[#223243]">Your Potential Savings</h4>

              <div class="result-item">
                <span class="result-label">Daily Fuel Cost (Petrol):</span>
                <span id="dailyPetrolCost" class="result-value">₹0</span>
              </div>

              <div class="result-item">
                <span class="result-label">Daily Charging Cost (EV):</span>
                <span id="dailyEvCost" class="result-value">₹0</span>
              </div>

              <div class="result-item">
                <span class="result-label">Daily Savings:</span>
                <span id="dailySavings" class="result-value">₹0</span>
              </div>

              <div class="result-item">
                <span class="result-label">Monthly Savings:</span>
                <span id="monthlySavings" class="result-value">₹0</span>
              </div>

              <div class="result-item">
                <span class="result-label">Yearly Savings:</span>
                <span id="yearlySavings" class="result-value">₹0</span>
              </div>

              <div class="savings-highlight">
                You could save <span id="totalYearlySavings">₹0</span> per year by switching to an EV!
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="featured py-16 bg-white ">
        <div class="container mx-auto px-4 text-center mt-12 p-5">
          <h2 class="text-3xl md:text-4xl font-bold mb-4 text-[#223243] mt-2">Explore EV Categories</h2>
          <p class="text-lg text-[#00dfc4] mb-12">Find your perfect electric vehicle</p>

          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto p-5">
            <!-- Commuter Bikes -->
            <div
              class="category-card bg-gray-50 rounded-xl p-6 shadow-md hover:shadow-xl border border-gray-200 hover:border-[#00dfc4] transition-all duration-300 group">
              <div class="relative h-40 mb-5 overflow-hidden rounded-lg">
                <img src="https://res.cloudinary.com/djhweskrq/image/upload/v1744086776/cycle_a41thb.jpg" alt="Commuter EVs"
                  class="h-full w-full object-contain group-hover:scale-105 transition-transform duration-500">
              </div>
              <h3 class="text-xl text-gray-800 mb-2 font-semibold">Commuter EVs</h3>
              <p class="text-gray-600 mb-5">Daily commute specialists with optimal range</p>
              <a href="/ev-finder" class="inline-block">
                <button
                  class="bg-[#00dfc4] hover:bg-[#00c7b0] text-white px-6 py-2 rounded-lg font-bold transition-all shadow-md hover:shadow-lg">
                  Explore
                </button>
              </a>
            </div>

            <!-- Electric Bikes -->
            <div
              class="category-card bg-gray-50 rounded-xl p-6 shadow-md hover:shadow-xl border border-gray-200 hover:border-[#00dfc4] transition-all duration-300 group">
              <div class="relative h-40 mb-5 overflow-hidden rounded-lg">
                <img src="https://res.cloudinary.com/djhweskrq/image/upload/v1744086776/bike_alwirl.jpg" alt="Electric Bikes"
                  class="h-full w-full object-contain group-hover:scale-105 transition-transform duration-500">
              </div>
              <h3 class="text-xl text-gray-800 mb-2 font-semibold">Electric Bikes</h3>
              <p class="text-gray-600 mb-5">Performance-oriented two-wheelers</p>
              <a href="/ev-finder" class="inline-block">
                <button
                  class="bg-[#00dfc4] hover:bg-[#00c7b0] text-white px-6 py-2 rounded-lg font-bold transition-all shadow-md hover:shadow-lg">
                  Explore
                </button>
              </a>
            </div>

            <!-- Electric Scooters -->
            <div
              class="category-card bg-gray-50 rounded-xl p-6 shadow-md hover:shadow-xl border border-gray-200 hover:border-[#00dfc4] transition-all duration-300 group">
              <div class="relative h-40 mb-5 overflow-hidden rounded-lg">
                <img src="https://res.cloudinary.com/djhweskrq/image/upload/v1744086779/scooty_vgoe3f.jpg" alt="Electric Scooters"
                  class="h-full w-full object-contain group-hover:scale-105 transition-transform duration-500">
              </div>
              <h3 class="text-xl text-gray-800 mb-2 font-semibold ">Electric Scooters</h3>
              <p class="text-gray-600 mb-5">Urban mobility made effortless</p>
              <a href="/ev-finder" class="inline-block">
                <button
                  class="bg-[#00dfc4] hover:bg-[#00c7b0] text-white px-6 py-2 rounded-lg font-bold transition-all shadow-md hover:shadow-lg">
                  Explore
                </button>
              </a>
            </div>

            <!-- Electric Cars -->
            <div
              class="category-card bg-gray-50 rounded-xl p-6 shadow-md hover:shadow-xl border border-gray-200 hover:border-[#00dfc4] transition-all duration-300 group">
              <div class="relative h-40 mb-5 overflow-hidden rounded-lg">
                <img src="https://res.cloudinary.com/djhweskrq/image/upload/v1744086776/car_vty4yh.webp" alt="Electric Cars"
                  class="h-full w-full object-contain group-hover:scale-105 transition-transform duration-500">
              </div>
              <h3 class="text-xl text-gray-800 mb-2 font-semibold">Electric Cars</h3>
              <p class="text-gray-600 mb-5">Premium four-wheel electric vehicles</p>
              <a href="/ev-finder" class="inline-block">
                <button
                  class="bg-[#00dfc4] hover:bg-[#00c7b0] text-white px-6 py-2 rounded-lg font-bold transition-all shadow-md hover:shadow-lg">
                  Explore
                </button>
              </a>
            </div>
          </div>
        </div>
      </section>

      <section
        class="testimonials py-16 bg-gradient-to-b from-[#223243] to-[#1a2a3a] rounded-2xl shadow-2xl mt-12 relative overflow-hidden">
        <!-- Decorative elements -->
        <div class="absolute -top-20 -right-20 w-64 h-64 rounded-full bg-[#00dfc4]/10 blur-3xl"></div>
        <div class="absolute -bottom-10 -left-10 w-72 h-72 rounded-full bg-[#00dfc4]/05 blur-3xl"></div>

        <div class="container mx-auto px-4 relative z-10 mt-12">
          <div class="text-center max-w-3xl mx-auto mb-12">
            <h2 class="text-3xl md:text-4xl text-center font-bold mb-12 animate-fadeIn gradient-text">How SelectEV
              Helped Users Find Their Perfect EV</h2>
            <p class="text-lg text-[#00dfc4]">Loved by EV explorers for smart selection, comparison & charging solutions
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 p-5">
            <!-- Testimonial 1 -->
            <div class="testimonial-card">
              <div class="testimonial-header">
                <img src="https://res.cloudinary.com/djhweskrq/image/upload/v1744086699/rahul_qcjbd2.png" alt="Rahul Sharma" class="testimonial-avatar">
                <div>
                  <div class="flex items-center mb-1">
                    <span class="testimonial-rating">★★★★★</span>
                    <span class="testimonial-rating-value">5.0</span>
                  </div>
                  <h4 class="testimonial-name">Rahul Sharma</h4>
                  <p class="testimonial-location">
                    Delhi • Ola S1 Pro Owner
                  </p>
                </div>
              </div>
              <p class="testimonial-text">
                "SelectEV's <span class="testimonial-highlight">'Find My EV' tool</span> matched me with the perfect
                electric scooter for my 40km daily commute. Saved me weeks of research!"
              </p>
            </div>

            <!-- Testimonial 2 -->
            <div class="testimonial-card">
              <div class="testimonial-header">
                <img src="https://res.cloudinary.com/djhweskrq/image/upload/v1744086700/priyapatel_xejuoz.png" alt="Priya Patel" class="testimonial-avatar">
                <div>
                  <div class="flex items-center mb-1">
                    <span class="testimonial-rating">★★★★★</span>
                    <span class="testimonial-rating-value">4.9</span>
                  </div>
                  <h4 class="testimonial-name">Priya Patel</h4>
                  <p class="testimonial-location">
                    Mumbai • Ather 450X Owner
                  </p>
                </div>
              </div>
              <p class="testimonial-text">
                "The <span class="testimonial-highlight">side-by-side comparison</span> made it easy to choose between
                Ather 450X and TVS iQube. No dealership could explain this clearly!"
              </p>
            </div>

            <!-- Testimonial 3 -->
            <div class="testimonial-card">
              <div class="testimonial-header">
                <img src="https://res.cloudinary.com/djhweskrq/image/upload/v1744086699/arjun_k0ampj.png" alt="Arjun Kumar" class="testimonial-avatar">
                <div>
                  <div class="flex items-center mb-1">
                    <span class="testimonial-rating">★★★★★</span>
                    <span class="testimonial-rating-value">5.0</span>
                  </div>
                  <h4 class="testimonial-name">Arjun Kumar</h4>
                  <p class="testimonial-location">
                    Bangalore • Revolt RV400 Owner
                  </p>
                </div>
              </div>
              <p class="testimonial-text">
                "The <span class="testimonial-highlight">charging station map</span> saved me on a long trip! Found a
                fast charger near Mysuru when my battery was at 10%."
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <%-include("../partials/footer.ejs") %>

      <script>
        // Scroll reveal animations
        function scrollReveal() {
          const elements = document.querySelectorAll('.product-card, .hero, .featured h2, .gallery h2, .testimonials');

          elements.forEach(element => {
            const elementPosition = element.getBoundingClientRect().top;
            const screenPosition = window.innerHeight / 1.3;

            if (elementPosition < screenPosition) {
              element.style.opacity = '1';
              element.style.transform = 'translateY(0)';
            }
          });
        }

        // Initialize elements for scroll reveal
        document.querySelectorAll('.product-card, .hero, .featured h2, .gallery h2, .testimonials').forEach(el => {
          el.style.opacity = '0';
          el.style.transform = 'translateY(20px)';
          el.style.transition = 'all 0.6s ease-out';
        });

        // Event listeners
        window.addEventListener('scroll', scrollReveal);
        window.addEventListener('load', scrollReveal);

        // Shop Now button click handler
        const shopNowButton = document.querySelector('.hero button');
        if (shopNowButton) {
          shopNowButton.addEventListener('click', () => {
            window.location.href = 'products.html';
          });
        };

        // EV Calculator Script
        document.getElementById('evCalculatorForm')?.addEventListener('submit', function (e) {
          e.preventDefault();

          try {
            // Get elements with null checks
            const getValue = (id) => {
              const el = document.getElementById(id);
              return el ? parseFloat(el.value) : NaN;
            };

            const setText = (id, text) => {
              const el = document.getElementById(id);
              if (el) el.textContent = text;
            };

            // Get input values
            const dailyKm = getValue('dailyKm');
            const petrolMileage = getValue('petrolMileage');
            const fuelCost = getValue('fuelCost');
            const electricityCost = getValue('electricityCost');
            const evRange = getValue('evRange');
            const evBattery = getValue('evBattery');

            // Validate inputs
            if ([dailyKm, petrolMileage, fuelCost, electricityCost, evRange].some(isNaN)) {
              throw new Error("Please fill all required fields with valid numbers");
            }

            // Calculate efficiency
            let evEfficiency;
            if (evBattery && !isNaN(evBattery) && evBattery > 0) {
              evEfficiency = evRange / evBattery;
            } else {
              // Estimate based on vehicle type
              if (evRange < 150) evEfficiency = 40;      // Scooters
              else if (evRange < 300) evEfficiency = 10; // Compact EVs
              else evEfficiency = 7;                     // Large EVs
            }

            // Calculate costs
            const dailyPetrolCost = petrolMileage > 0 ? (dailyKm / petrolMileage) * fuelCost : 0;
            const dailyEvCost = evEfficiency > 0 ? (dailyKm / evEfficiency) * electricityCost : 0;
            const dailySavings = dailyPetrolCost - dailyEvCost;

            // Format currency with safety checks
            const formatCurrency = (num) => {
              if (isNaN(num)) return "₹0.00";
              return `₹${Math.abs(num).toFixed(2)}`;
            };

            // Update UI elements safely
            setText('dailyPetrolCost', formatCurrency(dailyPetrolCost));
            setText('dailyEvCost', formatCurrency(dailyEvCost));
            setText('dailySavings', formatCurrency(dailySavings));
            setText('monthlySavings', formatCurrency(dailySavings * 30));
            setText('yearlySavings', formatCurrency(dailySavings * 365));
            setText('totalYearlySavings', formatCurrency(dailySavings * 365));
            setText('calculatedEfficiency', `(Calculated efficiency: ${evEfficiency.toFixed(1)} km/kWh)`);

            // Show results
            const resultsEl = document.getElementById('resultsContainer');
            if (resultsEl) resultsEl.style.display = 'block';

          } catch (error) {
            console.error("Calculation error:", error);
            alert(error.message || "An error occurred during calculation");
          }
          // Scroll to results
          document.getElementById('resultsContainer').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        });
        document.addEventListener('DOMContentLoaded', function() {
    const preloader = document.getElementById('preloader');
    
    // Only run on home page
    const isHomePage = window.location.pathname === '/' || 
                      window.location.pathname === '/index.html' || 
                      window.location.pathname === '';
    
    if (isHomePage && preloader) {
        // Check if this is the first visit in this session
        if (!sessionStorage.getItem('preloaderShown')) {
            // Show preloader (it's visible by default in your HTML)
            
            // When everything is loaded
            window.addEventListener('load', function() {
                // Add fade-out class
                preloader.classList.add('preloader-hidden');
                
                // Remove after animation completes
                setTimeout(function() {
                    preloader.style.display = 'none';
                }, 4000); // Matches CSS transition time
                
                // Mark as shown for this session
                sessionStorage.setItem('preloaderShown', 'true');
            });
            
            // Fallback - hide after 4 seconds if load event doesn't fire
            setTimeout(function() {
                if (preloader.style.display !== 'none') {
                    preloader.style.display = 'none';
                }
            }, 5000);
        } else {
            // Not first visit - hide immediately
            preloader.style.display = 'none';
        }
    } else if (preloader) {
        // Not home page - hide immediately
        preloader.style.display = 'none';
    }
});
      </script>
</body>

</html>